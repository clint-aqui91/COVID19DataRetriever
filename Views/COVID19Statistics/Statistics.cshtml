@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<script language="javascript">

    function CalculateDeathRatio(ConfirmedCases, ConfirmedDeaths)
    { var confirmedCases = ConfirmedCases;
        var confirmedDeaths = ConfirmedDeaths;
        var ratio = confirmedDeaths / confirmedCases;
        
        alert('You clicked !' + confirmedCases + confirmedDeaths + ratio); 
        // if the fourth decimal place is 0, it will not be displayed (eg. 0.00701 will set value 0.007 and if value is 0.00711, it will set value to 0.0071)
        ratio = Math.round(ratio * 10000) / 10000
        document.getElementById("deathratio1").value = ratio;
        return ratio;
    }

</script>

@model COVID19DataRetriever.Models.CovidDataModel


@{
    ViewData["Title"] = "View COVID19 Statistics for Malta";
}
<h1>@ViewData["Title"]</h1>
<hr />

<h4 class="text-center fw-bolder">COVID19 Statistics for Malta</h4>

@if (Model.APIInteractionResult == false)
    {
        <div class="text-center fw-bolder text-danger">Something went wrong. Contact the website administrator.</div>
    }

    else{
<div class="row">

    <div class="form-group row">
        <label asp-for="DateLastUpdated" class="label fw-bold col-sm"></label>
        <input type="text" readonly asp-for="DateLastUpdated" class="form-control-plaintext col-sm">
    </div>

    <div class="form-group row">
        <label asp-for="ConfirmedCases" class="label fw-bold col-sm"></label>
        <input type="text" readonly asp-for="ConfirmedCases" class="form-control-plaintext col-sm">
    </div>

    <div class="form-group row">
        <label asp-for="ActiveCasesFromAPI" class="label fw-bold col-sm"></label>
        <input type="text" readonly asp-for="ActiveCasesFromAPI" class="form-control-plaintext col-sm">
    </div>

    <div class="form-group row">
        <label asp-for="CalculatedActiveCases" class="label fw-bold col-sm"></label>
        <input type="text" readonly asp-for="CalculatedActiveCases" class="form-control-plaintext col-sm">
    </div>

    <div class="form-group row">
        <label asp-for="ConfirmedDeaths" class="label fw-bold col-sm"></label>
        <input type="text" readonly asp-for="ConfirmedDeaths" class="form-control-plaintext  col-sm">
    </div>

    <div class="form-group row">
        <label asp-for="DeathRatio" class="col-form-label fw-bold col-sm"></label>
        <input type="text" readonly id="deathratio1" asp-for="DeathRatio" class="form-control-plaintext  col-sm"/>
    </div>


    <div class="form-group text-center">
            <input type="button" value="Calculate Death Ratio" onclick="CalculateDeathRatio('@(Model.ConfirmedCases)','@(Model.ConfirmedDeaths)');" class="btn btn-danger fw-bold mt-4" />
        </div>

</div>
<hr />
}


